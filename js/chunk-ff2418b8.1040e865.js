(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ff2418b8"],{"62f9":function(e,t,n){},"7c43":function(e,t,n){},b1a8:function(e,t,n){"use strict";n("7c43")},e487:function(e,t){function n(e,t){var n=e.getCenter(),o=e.getZoom(),i=e.getBearing(),r=e.getPitch();t.forEach((function(e){e.jumpTo({center:n,zoom:o,bearing:i,pitch:r})}))}function o(){var e,t=arguments.length;if(1===t)e=arguments[0];else{e=[];for(var o=0;o<t;o++)e.push(arguments[o])}var i=[];function r(){e.forEach((function(e,t){e.on("move",i[t])}))}function s(){e.forEach((function(e,t){e.off("move",i[t])}))}function a(e,t){s(),n(e,t),r()}return e.forEach((function(t,n){i[n]=a.bind(null,t,e.filter((function(e,t){return t!==n})))})),r(),function(){s(),i=[],e=[]}}e.exports=o},e49e:function(e,t,n){"use strict";n.r(t);var o=n("7a23");const i=e=>(Object(o["pushScopeId"])("data-v-56729110"),e=e(),Object(o["popScopeId"])(),e),r={class:"diffBox"},s={class:"contextbox columnBox"},a={class:"mapLegendBox"},c={class:"yellow"},h={class:"blue"},u={ref:"compareMapbox",class:"compareMapbox"},l=i(()=>Object(o["createElementVNode"])("div",{id:"beforeMap",class:"maps"},null,-1)),p=i(()=>Object(o["createElementVNode"])("div",{id:"afterMap",class:"maps"},null,-1)),d=[l,p];function f(e,t,n,i,l,p){const f=Object(o["resolveComponent"])("Loading");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h6",null,Object(o["toDisplayString"])(e.$t("diffmap.title")),1),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(e.$t("diffmap.p")),1)]),Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("scrollama5.digitally")),1)]),Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("scrollama5.heatZone")),1)])])]),Object(o["createElementVNode"])("div",u,d,512),Object(o["createVNode"])(f,{"load-start":l.mapLoading},null,8,["load-start"])])}var v=n("bc3a"),m=n.n(v),_=n("c6c6"),b=n.n(_),g=n("e192"),y=n.n(g),w=n("e9bb"),L=n.n(w),E=(n("ac6d"),n("62f9"),n("fb56")),j=n("562f"),O=n("3a5e");const x="/taxi_effective",M="pk.eyJ1IjoiaW5ncmlka2FvIiwiYSI6ImNrdTNobXJydzJybWcydXA4Nnp0b2lqaGkifQ.fwVH4L2urj3Iv4jrV2D5Zw",C=n("3f90"),N=new b.a(window.navigator.userAgent),B=!!N.phone(),P=B?12:12.6,z={style:"mapbox://styles/mapbox/light-v10",center:j["d"].taipei,maxBounds:j["e"].northArea,zoom:P,minZoom:P-.5,maxZoom:j["c"].maxZoom-2};var A={data(){return{MapBoxObject:null,BeforeMapObject:null,AfterMapObject:null,compareMap:null,mapLoading:!1}},mounted(){this.initMapBox()},destroyed(){this.MapBoxObject.remove(),this.AfterMapObject.remove(),this.BeforeMapObject.remove()},components:{Loading:O["a"]},methods:{initMapBox(){const e="zh-TW"===this.$i18n.locale?"zh-Hant":"en";y.a.accessToken=M,y.a.Compare=L.a,this.BeforeMapObject=new y.a.Map({container:"beforeMap",...z}).addControl(new C({defaultLanguage:e})),this.AfterMapObject=new y.a.Map({container:"afterMap",...z}).addControl(new C({defaultLanguage:e})),this.AfterMapObject.addControl(new y.a.NavigationControl);const t=this.$refs.compareMapbox;this.MapBoxObject=new y.a.Compare(this.BeforeMapObject,this.AfterMapObject,t,{}),this.BeforeMapObject.touchZoomRotate.disable(),this.AfterMapObject.touchZoomRotate.disable(),this.BeforeMapObject.on("load",()=>{this.mapLoading=!0,m.a.get(x+"/data/appV2.geojson").then(e=>{this.BeforeMapObject.addSource("taxi_app_heat",{type:"geojson",data:e.data}).addLayer(E["d"]).addLayer({id:"taxi_app_heat",source:"taxi_app_heat",...E["i"]}),this.mapLoading=!1})}),this.AfterMapObject.on("load",()=>{this.mapLoading=!0,m.a.get(x+"/data/hailV2.geojson").then(e=>{this.AfterMapObject.addSource("taxi_hail_heat",{type:"geojson",data:e.data}).addLayer(E["d"]).addLayer({id:"taxi_hail_heat",source:"taxi_hail_heat",...E["j"]}),this.mapLoading=!1})})}}},S=(n("b1a8"),n("6b0d")),T=n.n(S);const V=T()(A,[["render",f],["__scopeId","data-v-56729110"]]);t["default"]=V},e9bb:function(e,t,n){"use strict";var o=n("e487"),i=n("faa1").EventEmitter;function r(e,t,n,r){if(this.options=r||{},this._mapA=e,this._mapB=t,this._horizontal="horizontal"===this.options.orientation,this._onDown=this._onDown.bind(this),this._onMove=this._onMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._ev=new i,this._swiper=document.createElement("div"),this._swiper.className=this._horizontal?"compare-swiper-horizontal":"compare-swiper-vertical",this._controlContainer=document.createElement("div"),this._controlContainer.className=this._horizontal?"mapboxgl-compare mapboxgl-compare-horizontal":"mapboxgl-compare",this._controlContainer.className=this._controlContainer.className,this._controlContainer.appendChild(this._swiper),"string"===typeof n&&document.body.querySelectorAll){var s=document.body.querySelectorAll(n)[0];if(!s)throw new Error("Cannot find element with specified container selector.");s.appendChild(this._controlContainer)}else{if(!(n instanceof Element&&n.appendChild))throw new Error("Invalid container specified. Must be CSS selector or HTML element.");n.appendChild(this._controlContainer)}this._bounds=t.getContainer().getBoundingClientRect();var a=(this._horizontal?this._bounds.height:this._bounds.width)/2;this._setPosition(a),this._clearSync=o(e,t),this._onResize=function(){this._bounds=t.getContainer().getBoundingClientRect(),this.currentPosition&&this._setPosition(this.currentPosition)}.bind(this),t.on("resize",this._onResize),this.options&&this.options.mousemove&&(e.getContainer().addEventListener("mousemove",this._onMove),t.getContainer().addEventListener("mousemove",this._onMove)),this._swiper.addEventListener("mousedown",this._onDown),this._swiper.addEventListener("touchstart",this._onDown)}r.prototype={_setPointerEvents:function(e){this._controlContainer.style.pointerEvents=e,this._swiper.style.pointerEvents=e},_onDown:function(e){e.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp))},_setPosition:function(e){e=Math.min(e,this._horizontal?this._bounds.height:this._bounds.width);var t=this._horizontal?"translate(0, "+e+"px)":"translate("+e+"px, 0)";this._controlContainer.style.transform=t,this._controlContainer.style.WebkitTransform=t;var n=this._horizontal?"rect(0, 999em, "+e+"px, 0)":"rect(0, "+e+"px, "+this._bounds.height+"px, 0)",o=this._horizontal?"rect("+e+"px, 999em, "+this._bounds.height+"px,0)":"rect(0, 999em, "+this._bounds.height+"px,"+e+"px)";this._mapA.getContainer().style.clip=n,this._mapB.getContainer().style.clip=o,this.currentPosition=e},_onMove:function(e){this.options&&this.options.mousemove&&this._setPointerEvents(e.touches?"auto":"none"),this._horizontal?this._setPosition(this._getY(e)):this._setPosition(this._getX(e))},_onMouseUp:function(){document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp),this.fire("slideend",{currentPosition:this.currentPosition})},_onTouchEnd:function(){document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd),this.fire("slideend",{currentPosition:this.currentPosition})},_getX:function(e){e=e.touches?e.touches[0]:e;var t=e.clientX-this._bounds.left;return t<0&&(t=0),t>this._bounds.width&&(t=this._bounds.width),t},_getY:function(e){e=e.touches?e.touches[0]:e;var t=e.clientY-this._bounds.top;return t<0&&(t=0),t>this._bounds.height&&(t=this._bounds.height),t},setSlider:function(e){this._setPosition(e)},on:function(e,t){return this._ev.on(e,t),this},fire:function(e,t){return this._ev.emit(e,t),this},off:function(e,t){return this._ev.removeListener(e,t),this},remove:function(){this._clearSync(),this._mapB.off("resize",this._onResize);var e=this._mapA.getContainer();e&&(e.style.clip=null,e.removeEventListener("mousemove",this._onMove));var t=this._mapB.getContainer();t&&(t.style.clip=null,t.removeEventListener("mousemove",this._onMove)),this._swiper.removeEventListener("mousedown",this._onDown),this._swiper.removeEventListener("touchstart",this._onDown),this._controlContainer.remove()}},window.mapboxgl?mapboxgl.Compare=r:e.exports=r},faa1:function(e,t,n){"use strict";var o,i="object"===typeof Reflect?Reflect:null,r=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function s(e){console&&console.warn&&console.warn(e)}o=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function c(){c.init.call(this)}e.exports=c,e.exports.once=y,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var h=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function p(e,t,n,o){var i,r,a;if(u(n),r=e._events,void 0===r?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),a=r[t]),void 0===a)a=r[t]=n,++e._eventsCount;else if("function"===typeof a?a=r[t]=o?[n,a]:[a,n]:o?a.unshift(n):a.push(n),i=l(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s(c)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(o);return i.listener=n,o.wrapFn=i,i}function v(e,t,n){var o=e._events;if(void 0===o)return[];var i=o[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?g(i):_(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function _(e,t){for(var n=new Array(t),o=0;o<t;++o)n[o]=e[o];return n}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function y(e,t){return new Promise((function(n,o){function i(n){e.removeListener(t,r),o(n)}function r(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}L(e,t,r,{once:!0}),"error"!==t&&w(e,i,{once:!0})}))}function w(e,t,n){"function"===typeof e.on&&L(e,"error",t,n)}function L(e,t,n,o){if("function"===typeof e.on)o.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(r){o.once&&e.removeEventListener(t,i),n(r)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");h=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return l(this)},c.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var h=c.length,u=_(c,h);for(n=0;n<h;++n)r(u[n],this,t)}return!0},c.prototype.addListener=function(e,t){return p(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return p(this,e,t,!0)},c.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},c.prototype.removeListener=function(e,t){var n,o,i,r,s;if(u(t),o=this._events,void 0===o)return this;if(n=o[e],void 0===n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,r=n.length-1;r>=0;r--)if(n[r]===t||n[r].listener===t){s=n[r].listener,i=r;break}if(i<0)return this;0===i?n.shift():b(n,i),1===n.length&&(o[e]=n[0]),void 0!==o.removeListener&&this.emit("removeListener",e,s||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,n,o;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,r=Object.keys(n);for(o=0;o<r.length;++o)i=r[o],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},c.prototype.listeners=function(e){return v(this,e,!0)},c.prototype.rawListeners=function(e){return v(this,e,!1)},c.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},c.prototype.listenerCount=m,c.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}}}]);
//# sourceMappingURL=chunk-ff2418b8.1040e865.js.map